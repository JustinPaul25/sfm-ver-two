import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-D12r0hmV.js";import{d as j,r as $,c as C,a as r,b as m,e as u,u as z,m as O,w as c,f as s,i as a,t as e,F as _,j as N,h as H}from"./app-CBk11mag.js";import{_ as L}from"./Card.vue_vue_type_script_setup_true_lang-F4Smfpbq.js";import{_ as D}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dq1VqWqp.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardExpose-DBlRa9Z3.js";import"./RovingFocusGroup-2FDYX2yh.js";const J={class:"flex flex-col gap-6 p-4 max-w-6xl mx-auto"},K={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4"},Q={class:"text-sm text-muted-foreground"},U={class:"font-medium"},X={class:"text-sm text-muted-foreground"},Y={class:"font-medium"},Z={class:"text-sm text-muted-foreground"},ss={class:"font-medium"},ts={class:"text-sm text-muted-foreground"},es={class:"font-medium"},os={class:"flex gap-2"},ls={class:"overflow-x-auto rounded-xl border border-sidebar-border/70 bg-white dark:bg-gray-900 mb-6"},as={class:"min-w-full text-xs md:text-sm"},is={class:"px-2 py-1"},ns={class:"px-2 py-1"},ds={class:"px-2 py-1"},ps={class:"px-2 py-1"},rs={class:"px-2 py-1"},ms={class:"px-2 py-1"},us={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},gs={class:"text-sm space-y-1"},cs={class:"font-medium"},xs={class:"font-medium"},_s={class:"font-medium"},fs={class:"font-medium"},hs={class:"font-medium"},ys={class:"font-medium"},vs={class:"font-medium"},bs={class:"font-medium"},ks={class:"font-medium"},Fs={class:"font-medium"},Ws={class:"font-medium"},Ss={class:"font-medium"},Bs={class:"font-medium"},ws={class:"font-medium"},Rs={class:"font-medium"},Cs={class:"flex flex-col items-center justify-center"},Ns={class:"w-full space-y-4"},Ds={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},Gs={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Ts={class:"text-sm text-blue-700 dark:text-blue-300"},Ps={key:0,class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},As={class:"text-lg font-bold text-green-600 dark:text-green-400"},Is={class:"text-sm text-green-700 dark:text-green-300"},Es={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},Ms={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},Vs={class:"mt-8"},js={class:"overflow-x-auto rounded-xl border border-sidebar-border/70 bg-white dark:bg-gray-900"},$s={class:"min-w-full text-xs md:text-sm"},zs={class:"px-2 py-1"},Os={class:"px-2 py-1"},Hs={class:"px-2 py-1"},Ls={class:"px-2 py-1"},qs={class:"px-2 py-1"},Js={class:"px-2 py-1"},Ks={class:"px-2 py-1"},Qs={class:"px-2 py-1"},Us={class:"px-2 py-1"},Xs={class:"px-2 py-1"},Ys={class:"px-2 py-1"},Zs={class:"px-2 py-1"},st={class:"px-2 py-1"},tt=j({__name:"SamplingReport",props:{sampling:{},samples:{},totals:{},history:{}},setup(G){var f,h,y,v;const n=G,l=$({date:((f=n.sampling)==null?void 0:f.date)||"",investor:((h=n.sampling)==null?void 0:h.investor)||"",cageNo:((y=n.sampling)==null?void 0:y.cageNo)||"",doc:((v=n.sampling)==null?void 0:v.doc)||"",samples:n.samples||[],totals:n.totals||{totalWeight:0,totalSamples:0,avgWeight:0,totalStocks:0,mortality:0,presentStocks:0,biomass:0,feedingRate:0,dailyFeedRation:0,feedConsumption:0,prevABW:0,prevBiomass:0,totalWtGained:0,dailyWtGained:0,fcr:0},history:n.history||[]}),d=i=>{if(i==null||i==="")return 0;const t=typeof i=="string"?parseFloat(i):i;return isNaN(t)?0:Math.round(t*10)/10},T=C(()=>{var b,k,F,W,S,B;const t=[...l.value.samples||[]].sort((p,g)=>(p.sample_no||0)-(g.sample_no||0)),o=[],x=Math.ceil(t.length/3);for(let p=0;p<x;p++){const g=p,w=p+x,R=p+x*2,M={no:((b=t[g])==null?void 0:b.sample_no)||"",weight:d((k=t[g])==null?void 0:k.weight),no2:((F=t[w])==null?void 0:F.sample_no)||"",weight2:d((W=t[w])==null?void 0:W.weight),no3:((S=t[R])==null?void 0:S.sample_no)||"",weight3:d((B=t[R])==null?void 0:B.weight)};o.push(M)}return o}),P=C(()=>{const i=l.value.totals,t=i.avgWeight||0,o=i.prevBiomass>0?(i.biomass-i.prevBiomass)/i.prevBiomass*100:0;return{biomassPerFish:d(t).toFixed(1),biomassGrowthRate:o.toFixed(1),biomassEfficiency:i.avgWeight>0?(i.biomass/i.avgWeight*1e3).toFixed(2):"0.00"}}),A=[{title:"Dashboard",href:"/dashboard"},{title:"Samplings",href:"/samplings"},{title:"Sampling Report",href:"/samplings/report"}],I=()=>{window.print()},E=()=>{var t;const i=(t=n.sampling)==null?void 0:t.id;i?window.open(route("samplings.export-report",i),"_blank"):window.open(route("samplings.export-report"),"_blank")};return(i,t)=>(m(),r(_,null,[u(z(O),{title:"Sampling Report"}),u(V,{breadcrumbs:A},{default:c(()=>[s("div",J,[u(L,{class:"p-6"},{default:c(()=>[s("div",K,[s("div",null,[t[4]||(t[4]=s("h2",{class:"text-2xl font-bold mb-1"},"Sampling Report",-1)),s("div",Q,[t[0]||(t[0]=a("Date: ")),s("span",U,e(l.value.date),1)]),s("div",X,[t[1]||(t[1]=a("Investor: ")),s("span",Y,e(l.value.investor),1)]),s("div",Z,[t[2]||(t[2]=a("Cage No: ")),s("span",ss,e(l.value.cageNo),1)]),s("div",ts,[t[3]||(t[3]=a("DOC: ")),s("span",es,e(l.value.doc),1)])]),s("div",os,[u(D,{variant:"outline",onClick:I},{default:c(()=>t[5]||(t[5]=[a("ðŸ–¨ï¸ Print Report")])),_:1}),u(D,{variant:"secondary",onClick:E},{default:c(()=>t[6]||(t[6]=[a("ðŸ“Š Export to Excel")])),_:1})])]),s("div",ls,[s("table",as,[t[7]||(t[7]=s("thead",{class:"bg-gray-50 dark:bg-gray-800"},[s("tr",null,[s("th",{class:"px-2 py-2"},"No."),s("th",{class:"px-2 py-2"},"Weight (g)"),s("th",{class:"px-2 py-2"},"No."),s("th",{class:"px-2 py-2"},"Weight (g)"),s("th",{class:"px-2 py-2"},"No."),s("th",{class:"px-2 py-2"},"Weight (g)")])],-1)),s("tbody",null,[(m(!0),r(_,null,N(T.value,o=>(m(),r("tr",{key:o.no},[s("td",is,e(o.no),1),s("td",ns,e(o.weight?o.weight.toFixed(1):""),1),s("td",ds,e(o.no2),1),s("td",ps,e(o.weight2?o.weight2.toFixed(1):""),1),s("td",rs,e(o.no3),1),s("td",ms,e(o.weight3?o.weight3.toFixed(1):""),1)]))),128))])])]),s("div",us,[s("div",null,[t[23]||(t[23]=s("h3",{class:"font-semibold mb-2"},"Summary",-1)),s("ul",gs,[s("li",null,[t[8]||(t[8]=a("Total w.t. of samples: ")),s("span",cs,e(d(l.value.totals.totalWeight).toFixed(1))+" grams",1)]),s("li",null,[t[9]||(t[9]=a("Total # of samples: ")),s("span",xs,e(l.value.totals.totalSamples)+" pcs",1)]),s("li",null,[t[10]||(t[10]=a("Avg. Body Weight: ")),s("span",_s,e(d(l.value.totals.avgWeight).toFixed(1))+" grams",1)]),s("li",null,[t[11]||(t[11]=a("Total Stocks: ")),s("span",fs,e(l.value.totals.totalStocks)+" pcs",1)]),s("li",null,[t[12]||(t[12]=a("Mortality to date: ")),s("span",hs,e(l.value.totals.mortality)+" pcs",1)]),s("li",null,[t[13]||(t[13]=a("Present Stocks: ")),s("span",ys,e(l.value.totals.presentStocks)+" pcs",1)]),s("li",null,[t[14]||(t[14]=a("Biomass: ")),s("span",vs,e(l.value.totals.biomass)+" kgs",1)]),s("li",null,[t[15]||(t[15]=a("Feeding Rate: ")),s("span",bs,e(l.value.totals.feedingRate)+"%",1)]),s("li",null,[t[16]||(t[16]=a("Daily Feed Ration: ")),s("span",ks,e(l.value.totals.dailyFeedRation)+" kgs",1)]),s("li",null,[t[17]||(t[17]=a("Feed Consumption: ")),s("span",Fs,e(l.value.totals.feedConsumption)+" kgs",1)]),s("li",null,[t[18]||(t[18]=a("Previous ABW: ")),s("span",Ws,e(l.value.totals.prevABW)+" grams",1)]),s("li",null,[t[19]||(t[19]=a("Previous biomass: ")),s("span",Ss,e(l.value.totals.prevBiomass)+" kgs",1)]),s("li",null,[t[20]||(t[20]=a("Total Wt. gained: ")),s("span",Bs,e(l.value.totals.totalWtGained)+" kgs",1)]),s("li",null,[t[21]||(t[21]=a("Daily weight gained: ")),s("span",ws,e(l.value.totals.dailyWtGained)+" grams/day",1)]),s("li",null,[t[22]||(t[22]=a("Feed Conversion Ratio: ")),s("span",Rs,e(l.value.totals.fcr),1)])])]),s("div",Cs,[t[28]||(t[28]=s("h3",{class:"font-semibold mb-2"},"Biomass Analysis",-1)),s("div",Ns,[s("div",Ds,[t[24]||(t[24]=s("h4",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"Current Biomass",-1)),s("div",Gs,e(l.value.totals.biomass)+" kg",1),s("div",Ts,e(l.value.totals.presentStocks)+" fish Ã— "+e(d(l.value.totals.avgWeight).toFixed(1))+"g avg weight ",1)]),l.value.totals.prevBiomass>0?(m(),r("div",Ps,[t[25]||(t[25]=s("h4",{class:"font-medium text-green-900 dark:text-green-100 mb-2"},"Biomass Growth",-1)),s("div",As," +"+e(l.value.totals.totalWtGained)+" kg ",1),s("div",Is,e(l.value.totals.dailyWtGained)+" kg/day average ",1)])):H("",!0),s("div",Es,[t[26]||(t[26]=s("h4",{class:"font-medium text-purple-900 dark:text-purple-100 mb-2"},"Biomass per Fish",-1)),s("div",Ms,e(P.value.biomassPerFish)+"g ",1),t[27]||(t[27]=s("div",{class:"text-sm text-purple-700 dark:text-purple-300"}," Average weight per fish ",-1))])])])]),s("div",Vs,[t[30]||(t[30]=s("h3",{class:"font-semibold mb-2"},"Historical Data",-1)),s("div",js,[s("table",$s,[t[29]||(t[29]=s("thead",{class:"bg-gray-50 dark:bg-gray-800"},[s("tr",null,[s("th",{class:"px-2 py-2"},"Date"),s("th",{class:"px-2 py-2"},"DOC (days)"),s("th",{class:"px-2 py-2"},"Total Stocks"),s("th",{class:"px-2 py-2"},"Mortality to date (pcs)"),s("th",{class:"px-2 py-2"},"Present Stocks (pcs)"),s("th",{class:"px-2 py-2"},"ABW (grams)"),s("th",{class:"px-2 py-2"},"Wt. Increment per day (grams)"),s("th",{class:"px-2 py-2"},"Biomass (kgs)"),s("th",{class:"px-2 py-2"},"Feeding Rate"),s("th",{class:"px-2 py-2"},"Daily Feed Ration (kgs)"),s("th",{class:"px-2 py-2"},"Feed Consumed (kgs)"),s("th",{class:"px-2 py-2"},"Total Wt. gained (kgs)"),s("th",{class:"px-2 py-2"},"FCR")])],-1)),s("tbody",null,[(m(!0),r(_,null,N(l.value.history,o=>(m(),r("tr",{key:o.date},[s("td",zs,e(o.date),1),s("td",Os,e(o.doc),1),s("td",Hs,e(o.stocks),1),s("td",Ls,e(o.mortality),1),s("td",qs,e(o.present),1),s("td",Js,e(o.abw),1),s("td",Ks,e(o.wtInc),1),s("td",Qs,e(o.biomass),1),s("td",Us,e(o.fr),1),s("td",Xs,e(o.dfr),1),s("td",Ys,e(o.feed),1),s("td",Zs,e(o.totalGained),1),s("td",st,e(o.fcr),1)]))),128))])])])])]),_:1})])]),_:1})],64))}}),pt=q(tt,[["__scopeId","data-v-5af3215b"]]);export{pt as default};
