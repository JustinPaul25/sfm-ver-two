import{G as d,r as n,p as c,T as o}from"./app-Py-KhCof.js";const m=d("cage",()=>{const l=n(null),a=n(!1),t=n(null),u=n({search:"",page:1});return{cages:l,loading:a,error:t,filters:u,fetchCages:async()=>{a.value=!0,t.value=null;try{const e=await c.get(o("cages.list"),{params:u.value});l.value=e.data.cages}catch(e){t.value=e.message}finally{a.value=!1}},createCage:async e=>{a.value=!0,t.value=null;try{return(await c.post(o("cages.store"),e)).data}catch(s){throw t.value=s.message,s}finally{a.value=!1}},updateCage:async(e,s)=>{a.value=!0,t.value=null;try{const r=await c.put(o("cages.update",e),s);if(l.value&&l.value.data&&Array.isArray(l.value.data)){const v=l.value.data.findIndex(g=>g.id===e);v!==-1&&(l.value.data[v]=r.data)}return r.data}catch(r){throw t.value=r.message,r}finally{a.value=!1}},deleteCage:async e=>{a.value=!0,t.value=null;try{return(await c.delete(o("cages.destroy",e))).data}catch(s){throw t.value=s.message,s}finally{a.value=!1}},setFilters:e=>{u.value={...u.value,...e}}}});export{m as u};
