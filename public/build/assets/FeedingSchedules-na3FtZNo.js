import{d as M,q as je,g as S,b as i,w as n,s as G,u as l,r as b,c as Y,x as Ee,y as Ge,o as Le,e as d,z as oe,h as D,f as t,i as k,t as a,a as u,F as W,j as E,k as Ue,A as ze,p as ae,W as Re}from"./app-Py-KhCof.js";import{_ as qe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxOgdMMd.js";import{_ as ee}from"./Card.vue_vue_type_script_setup_true_lang-GpF-q2cn.js";import{_ as te,a as se,b as le}from"./CardTitle.vue_vue_type_script_setup_true_lang-BeBhnXgS.js";import{P as de,_ as O}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dn4fNI4e.js";import{_ as ie}from"./Checkbox.vue_vue_type_script_setup_true_lang-CiGbFRiA.js";import{_ as He,a as Ve,b as Qe,c as Ye}from"./DialogTitle.vue_vue_type_script_setup_true_lang-xkXlj1WN.js";import{_ as Ze}from"./DialogDescription.vue_vue_type_script_setup_true_lang-oxfkEzbr.js";import{_ as Je}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zzOAfG-b.js";import{_ as Ke}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CLfJ7BCe.js";import{c as Xe,u as Ie,P as et,a as tt}from"./RovingFocusGroup-Cd9WNB1g.js";import{u as st,a as re,b as lt}from"./useForwardExpose-N3V696vC.js";const[De,ot]=Xe("CollapsibleRoot"),nt=M({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(y,{expose:h,emit:r}){const m=y,f=st(m,"open",r,{defaultValue:m.defaultOpen,passive:m.open===void 0}),{disabled:v,unmountOnHide:C}=je(m);return ot({contentId:"",disabled:v,open:f,unmountOnHide:C,onOpenToggle:()=>{f.value=!f.value}}),h({open:f}),re(),(w,A)=>(i(),S(l(de),{as:w.as,"as-child":m.asChild,"data-state":l(f)?"open":"closed","data-disabled":l(v)?"":void 0},{default:n(()=>[G(w.$slots,"default",{open:l(f)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),at=M({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(y,{emit:h}){const r=y,m=h,c=De();c.contentId||(c.contentId=Ie(void 0,"reka-collapsible-content"));const f=b(),{forwardRef:v,currentElement:C}=re(),w=b(0),A=b(0),T=Y(()=>c.open.value),B=b(T.value),F=b();Ee(()=>{var p;return[T.value,(p=f.value)==null?void 0:p.present]},async()=>{await Ge();const p=C.value;if(!p)return;F.value=F.value||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const L=p.getBoundingClientRect();A.value=L.height,w.value=L.width,B.value||(p.style.transitionDuration=F.value.transitionDuration,p.style.animationName=F.value.animationName)},{immediate:!0});const Z=Y(()=>B.value&&c.open.value);return Le(()=>{requestAnimationFrame(()=>{B.value=!1})}),lt(C,"beforematch",p=>{requestAnimationFrame(()=>{c.onOpenToggle(),m("contentFound")})}),(p,L)=>(i(),S(l(et),{ref_key:"presentRef",ref:f,present:p.forceMount||l(c).open.value,"force-mount":!0},{default:n(({present:U})=>{var z;return[d(l(de),oe(p.$attrs,{id:l(c).contentId,ref:l(v),"as-child":r.asChild,as:p.as,hidden:U?void 0:l(c).unmountOnHide.value?"":"until-found","data-state":Z.value?void 0:l(c).open.value?"open":"closed","data-disabled":(z=l(c).disabled)!=null&&z.value?"":void 0,style:{"--reka-collapsible-content-height":`${A.value}px`,"--reka-collapsible-content-width":`${w.value}px`}}),{default:n(()=>[!l(c).unmountOnHide.value||U?G(p.$slots,"default",{key:0}):D("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),it=M({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(y){const h=y;re();const r=De();return(m,c)=>{var f,v;return i(),S(l(de),{type:m.as==="button"?"button":void 0,as:m.as,"as-child":h.asChild,"aria-controls":l(r).contentId,"aria-expanded":l(r).open.value,"data-state":l(r).open.value?"open":"closed","data-disabled":(f=l(r).disabled)!=null&&f.value?"":void 0,disabled:(v=l(r).disabled)==null?void 0:v.value,onClick:l(r).onOpenToggle},{default:n(()=>[G(m.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),dt=M({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(y,{emit:h}){const c=tt(y,h);return(f,v)=>(i(),S(l(nt),oe({"data-slot":"collapsible"},l(c)),{default:n(({open:C})=>[G(f.$slots,"default",{open:C})]),_:3},16))}}),rt=M({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(y){const h=y;return(r,m)=>(i(),S(l(at),oe({"data-slot":"collapsible-content"},h),{default:n(()=>[G(r.$slots,"default")]),_:3},16))}}),ut=M({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(y){const h=y;return(r,m)=>(i(),S(l(it),oe({"data-slot":"collapsible-trigger"},h),{default:n(()=>[G(r.$slots,"default")]),_:3},16))}}),ct={class:"space-y-6"},mt={class:"flex items-center justify-between"},ft={class:"flex gap-2 flex-wrap"},pt={class:"space-y-4"},gt={class:"font-medium mb-2"},_t={class:"max-h-32 overflow-y-auto space-y-1"},ht={class:"flex items-center space-x-2"},vt={class:"flex gap-2"},bt={class:"text-sm text-muted-foreground"},yt={class:"space-y-3"},xt={class:"flex items-center space-x-3"},kt={class:"font-medium"},wt={class:"text-sm text-muted-foreground"},Ct={class:"text-sm text-muted-foreground"},$t={class:"space-y-3"},St={class:"border rounded-lg overflow-hidden"},Ft={class:"w-full flex items-center justify-between p-4 hover:bg-gray-50 cursor-pointer text-left"},Dt={class:"flex items-center space-x-3 flex-1"},At={class:"flex-1"},Tt={class:"font-medium"},Bt={class:"text-sm text-muted-foreground"},Nt={class:"text-sm text-muted-foreground"},Pt={class:"text-right mr-4"},Wt={class:"text-sm text-muted-foreground"},Ot={class:"text-sm text-muted-foreground"},Mt={class:"text-muted-foreground"},jt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Et={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Gt={class:"border-t bg-gray-50 p-6"},Lt={key:0,class:"text-center py-4"},Ut={key:0,class:"space-y-6"},zt={class:"flex justify-end"},Rt={class:"bg-white p-4 rounded-lg border"},qt={class:"text-2xl font-bold text-blue-700"},Ht={key:0},Vt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3"},Qt={class:"flex items-center justify-between"},Yt={class:"font-medium text-lg"},Zt={class:"text-sm text-muted-foreground"},Jt={class:"text-right"},Kt={class:"font-semibold text-green-600"},Xt={class:"text-sm text-muted-foreground mt-2"},It={class:"font-medium"},es={class:"bg-white p-4 rounded-lg border"},ts={class:"grid grid-cols-2 gap-4"},ss={class:"text-xl font-bold"},ls={class:"text-xl font-bold"},os={key:1},ns={class:"bg-white p-4 rounded-lg border"},as={class:"whitespace-pre-line text-sm text-muted-foreground"},is={key:0,class:"text-xs text-muted-foreground mt-2"},ds={key:2},rs={class:"bg-white rounded-lg border overflow-hidden"},us={class:"flex items-center justify-between"},cs={class:"font-medium"},ms={class:"text-sm text-muted-foreground"},fs={class:"text-right"},ps={class:"font-semibold text-indigo-600"},gs={key:0,class:"text-xs text-blue-600 font-medium mt-1"},_s={key:1,class:"text-center py-4"},hs={class:"text-muted-foreground"},vs={class:"space-y-2"},bs={class:"text-green-700"},ys={key:0,class:"mt-3"},xs={class:"text-sm text-red-600 space-y-1"},Ws=M({__name:"FeedingSchedules",props:{cages:{}},setup(y){const h=y,r=b([]),m=b(!1),c=b(!1),f=b(!1),v=b(null),C=b(new Set),w=b({}),A=b({}),T=b(!1),B=Y(()=>h.cages.filter(o=>!o.has_schedule)),F=Y(()=>h.cages.filter(o=>o.has_schedule)),Z=Y(()=>r.value.length>0),p=()=>{r.value=B.value.map(o=>o.id)},L=()=>{r.value=[]},U=o=>{const e=r.value.indexOf(o);e>-1?r.value.splice(e,1):r.value.push(o)},z=o=>r.value.includes(o),Ae=async()=>{var o,e;if(Z.value){f.value=!0;try{const s=await ae.post("/cages/feeding-schedules/auto-generate",{cage_ids:r.value,overwrite_existing:c.value});v.value=s.data,setTimeout(()=>{Re.reload()},2e3)}catch(s){console.error("Auto-generation failed:",s),alert("Failed to auto-generate schedules: "+(((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.message)||s.message))}finally{f.value=!1,m.value=!1}}},ue=o=>o?new Date(`2000-01-01T${o}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"No schedule",R=o=>{if(o==null)return"0.00 kg";const e=typeof o=="string"?parseFloat(o):o;return isNaN(e)?"0.00 kg":`${e.toFixed(2)} kg`},Te=async(o,e)=>{try{o?(C.value.add(e),!w.value[e]&&!A.value[e]&&await Be(e)):C.value.delete(e)}catch(s){console.error("Error toggling cage expansion:",s),C.value.delete(e)}},Be=async o=>{if(!A.value[o]){A.value[o]=!0;try{const e=await ae.get(`/cages/${o}/feeding-schedule-details`);w.value={...w.value,[o]:e.data}}catch(e){console.error("Error fetching schedule details:",e),w.value={...w.value,[o]:{has_schedule:!1,message:"Error loading schedule details"}}}finally{A.value[o]=!1}}},ce=o=>C.value.has(o),Ne=o=>({daily:"Daily",twice_daily:"Twice Daily",thrice_daily:"Thrice Daily",four_times_daily:"Four Times Daily"})[o]||o,Pe=o=>{if(!o)return"";const e=new Date(o),s=new Date,g=new Date(s);return g.setDate(g.getDate()+1),e.toDateString()===s.toDateString()?"Today":e.toDateString()===g.toDateString()?"Tomorrow":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})},_=o=>w.value[o]||null,We=o=>{const e=_(o);if(!(e!=null&&e.schedule)||!(e!=null&&e.cage))return"0.00";const s=typeof e.schedule.total_daily_amount=="string"?parseFloat(e.schedule.total_daily_amount):e.schedule.total_daily_amount||0,g=typeof e.cage.number_of_fingerlings=="string"?parseInt(e.cage.number_of_fingerlings,10):e.cage.number_of_fingerlings||1;return isNaN(s)||isNaN(g)||g===0?"0.00":(s*1e3/g).toFixed(2)},Oe=o=>{if(!o)return"â€“";const[e,s]=o.split(":").map(Number),g=e>=12?"PM":"AM";return`${e%12||12}:${s.toString().padStart(2,"0")} ${g}`},me=async o=>{if(!(o==null&&F.value.length===0)){T.value=!0;try{const e=o!=null?{params:{cage_id:o}}:{},{data:s}=await ae.get("/cages/feeding-schedules/weekly-print-data",e),g=s.cages||[];if(g.length===0)return;const q=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],J=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Weekly Feeding Schedules â€“ All Cages</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 24px; color: #111; max-width: 900px; margin: 0 auto; }
    h1 { font-size: 1.25rem; margin-bottom: 1.5rem; }
    .cage-block { margin-bottom: 2.5rem; break-inside: avoid; }
    .cage-block h2 { font-size: 1.1rem; margin-bottom: 0.25rem; }
    .sub { color: #666; font-size: 0.9rem; margin-bottom: 0.5rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 0.75rem; }
    th, td { border: 1px solid #ccc; padding: 6px 8px; text-align: left; }
    th { background: #f5f5f5; font-weight: 600; }
    .day { font-weight: 500; width: 110px; }
    .total { font-weight: 600; background: #f0f9ff; }
    td:not(.day):not(.total) { text-align: center; }
  </style>
</head>
<body>
  <h1>Weekly Feeding Schedules â€“ All Cages</h1>
  ${g.map(x=>{var H;const K=(x.feeding_times||[]).map((V,j)=>`<th colspan="2">Feeding ${j+1}</th>`).join(""),X=q.map(V=>`
        <tr>
          <td class="day">${V}</td>
          ${(x.feeding_times||[]).map((j,I)=>{const Q=(x.feeding_amounts||[])[I];return`<td>${Oe(j)}</td><td>${Q!=null?Number(Q).toFixed(2):"0.00"} kg</td>`}).join("")}
          <td class="total">${Number(x.total_daily_amount||0).toFixed(2)} kg</td>
        </tr>`).join("");return`
        <div class="cage-block">
          <h2>Weekly Feeding Schedule â€“ Cage #${x.id}</h2>
          <p class="sub">${x.investor_name} â€¢ ${(H=x.number_of_fingerlings)==null?void 0:H.toLocaleString()} fish â€¢ ${x.feed_type}</p>
          <p class="sub"><strong>Schedule:</strong> ${x.schedule_name} â€¢ Total daily: ${Number(x.total_daily_amount||0).toFixed(2)} kg</p>
          <table>
            <thead><tr><th>Day</th>${K}<th>Total (kg)</th></tr></thead>
            <tbody>${X}</tbody>
          </table>
        </div>`}).join("")}
  <p style="margin-top: 2rem; font-size: 0.85rem; color: #666;">Generated on ${new Date().toLocaleString()} â€¢ Smart Fish Morphometrics</p>
</body>
</html>`,$=window.open("","_blank");if(!$)return;$.document.write(J),$.document.close(),$.focus(),$.onload=()=>{$.print(),$.onafterprint=()=>$.close()}}catch(e){console.error("Print weekly schedules failed:",e)}finally{T.value=!1}}},Me=()=>me();return(o,e)=>(i(),S(qe,null,{default:n(()=>[t("div",ct,[t("div",mt,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-3xl font-bold"},"Feeding Schedules"),t("p",{class:"text-muted-foreground"}," Manage feeding schedules for all cages ")],-1)),t("div",ft,[d(l(O),{variant:"outline",disabled:F.value.length===0||T.value,onClick:Me,class:"bg-amber-50 text-amber-800 hover:bg-amber-100 border-amber-200"},{default:n(()=>[k(a(T.value?"Preparingâ€¦":"ðŸ–¨ï¸ Print All Weekly Schedules"),1)]),_:1},8,["disabled"]),d(l(He),{open:m.value,"onUpdate:open":e[2]||(e[2]=s=>m.value=s)},{default:n(()=>[d(l(Ke),{"as-child":""},{default:n(()=>[d(l(O),{disabled:!Z.value,class:"bg-blue-600 hover:bg-blue-700"},{default:n(()=>e[4]||(e[4]=[k(" ðŸš€ Auto-Generate Schedules ")])),_:1},8,["disabled"])]),_:1}),d(l(Ve),{class:"sm:max-w-md"},{default:n(()=>[d(l(Qe),null,{default:n(()=>[d(l(Ye),null,{default:n(()=>e[5]||(e[5]=[k("Auto-Generate Feeding Schedules")])),_:1}),d(l(Ze),null,{default:n(()=>e[6]||(e[6]=[k(" Generate intelligent feeding schedules based on cage characteristics, fish age, and fingerling count. ")])),_:1})]),_:1}),t("div",pt,[t("div",null,[t("h4",gt,"Selected Cages: "+a(r.value.length),1),t("div",_t,[(i(!0),u(W,null,E(h.cages.filter(s=>r.value.includes(s.id)),s=>(i(),u("div",{key:s.id,class:"text-sm p-2 bg-gray-50 rounded"}," Cage "+a(s.id)+" - "+a(s.investor_name)+" ("+a(s.number_of_fingerlings)+" fingerlings) ",1))),128))])]),t("div",ht,[d(l(ie),{id:"overwrite",checked:c.value,"onUpdate:checked":e[0]||(e[0]=s=>c.value=s)},null,8,["checked"]),e[7]||(e[7]=t("label",{for:"overwrite",class:"text-sm"}," Overwrite existing schedules ",-1))]),e[8]||(e[8]=t("div",{class:"bg-blue-50 p-3 rounded-lg"},[t("h5",{class:"font-medium text-blue-900 mb-1"},"Auto-Generation Logic:"),t("ul",{class:"text-sm text-blue-800 space-y-1"},[t("li",null,"â€¢ Fish age calculated from latest sampling"),t("li",null,"â€¢ Feeding frequency based on fish age"),t("li",null,"â€¢ Amount calculated per fingerling"),t("li",null,"â€¢ Optimal feeding times distributed")])],-1))]),d(l(Je),null,{default:n(()=>[d(l(O),{variant:"outline",onClick:e[1]||(e[1]=s=>m.value=!1)},{default:n(()=>e[9]||(e[9]=[k(" Cancel ")])),_:1}),d(l(O),{onClick:Ae,disabled:f.value,class:"bg-blue-600 hover:bg-blue-700"},{default:n(()=>[k(a(f.value?"Generating...":"Generate Schedules"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),d(l(ee),null,{default:n(()=>[d(l(te),null,{default:n(()=>[d(l(se),{class:"flex items-center justify-between"},{default:n(()=>[e[13]||(e[13]=t("span",null,"Bulk Selection",-1)),t("div",vt,[d(l(O),{variant:"outline",size:"sm",onClick:p},{default:n(()=>e[11]||(e[11]=[k(" Select All Without Schedules ")])),_:1}),d(l(O),{variant:"outline",size:"sm",onClick:L},{default:n(()=>e[12]||(e[12]=[k(" Clear Selection ")])),_:1})])]),_:1})]),_:1}),d(l(le),null,{default:n(()=>[t("div",bt," Selected: "+a(r.value.length)+" cages ",1)]),_:1})]),_:1}),B.value.length>0?(i(),S(l(ee),{key:0},{default:n(()=>[d(l(te),null,{default:n(()=>[d(l(se),{class:"text-orange-600"},{default:n(()=>[k(" Cages Without Schedules ("+a(B.value.length)+") ",1)]),_:1})]),_:1}),d(l(le),null,{default:n(()=>[t("div",yt,[(i(!0),u(W,null,E(B.value,s=>(i(),u("div",{key:s.id,class:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50"},[t("div",xt,[d(l(ie),{checked:z(s.id),"onUpdate:checked":g=>U(s.id)},null,8,["checked","onUpdate:checked"]),t("div",null,[t("h4",kt,"Cage "+a(s.id),1),t("p",wt,a(s.investor_name)+" â€¢ "+a(s.feed_type),1),t("p",Ct,a(s.number_of_fingerlings)+" fingerlings ",1)])]),e[14]||(e[14]=t("div",{class:"text-right"},[t("span",{class:"text-orange-600 font-medium"},"No Schedule")],-1))]))),128))])]),_:1})]),_:1})):D("",!0),F.value.length>0?(i(),S(l(ee),{key:1},{default:n(()=>[d(l(te),null,{default:n(()=>[d(l(se),{class:"text-green-600"},{default:n(()=>[k(" Cages With Schedules ("+a(F.value.length)+") ",1)]),_:1})]),_:1}),d(l(le),null,{default:n(()=>[t("div",$t,[(i(!0),u(W,null,E(F.value,s=>(i(),S(l(dt),{key:s.id,open:ce(s.id),"onUpdate:open":g=>Te(g,s.id)},{default:n(()=>[t("div",St,[d(l(ut),{"as-child":""},{default:n(()=>[t("button",Ft,[t("div",Dt,[d(l(ie),{checked:z(s.id),"onUpdate:checked":g=>U(s.id),onClick:e[3]||(e[3]=Ue(()=>{},["stop"]))},null,8,["checked","onUpdate:checked"]),t("div",At,[t("h4",Tt,"Cage "+a(s.id),1),t("p",Bt,a(s.investor_name)+" â€¢ "+a(s.feed_type),1),t("p",Nt,a(s.number_of_fingerlings)+" fingerlings ",1)])]),t("div",Pt,[e[15]||(e[15]=t("div",{class:"text-green-600 font-medium"},"Has Schedule",-1)),t("div",Wt," Next: "+a(ue(s.next_feeding)),1),t("div",Ot," Daily: "+a(R(s.total_daily_amount)),1)]),t("div",Mt,[ce(s.id)?(i(),u("svg",Et,e[17]||(e[17]=[t("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)]))):(i(),u("svg",jt,e[16]||(e[16]=[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])))])])]),_:2},1024),d(l(rt),null,{default:n(()=>{var g,q,ne,J,$,x,K,X,H,V,j,I,Q,fe,pe,ge,_e,he,ve,be,ye,xe,ke,we,Ce;return[t("div",Gt,[A.value[s.id]?(i(),u("div",Lt,e[18]||(e[18]=[t("p",{class:"text-muted-foreground"},"Loading schedule details...",-1)]))):(i(),u(W,{key:1},[(g=_(s.id))!=null&&g.has_schedule&&((q=_(s.id))!=null&&q.schedule)?(i(),u("div",Ut,[t("div",zt,[d(l(O),{variant:"outline",size:"sm",disabled:T.value,onClick:N=>me(s.id),class:"bg-amber-50 text-amber-800 hover:bg-amber-100 border-amber-200"},{default:n(()=>[k(a(T.value?"Preparingâ€¦":"ðŸ–¨ï¸ Print Weekly Schedule"),1)]),_:2},1032,["disabled","onClick"])]),t("div",null,[e[20]||(e[20]=t("h5",{class:"font-semibold text-lg mb-3 text-blue-600"},"Daily Feeding Amount",-1)),t("div",Rt,[t("p",qt,a(R(((J=(ne=_(s.id))==null?void 0:ne.schedule)==null?void 0:J.total_daily_amount)||0)),1),e[19]||(e[19]=t("p",{class:"text-sm text-muted-foreground mt-1"},"Total feed quantity per day",-1))])]),(K=(x=($=_(s.id))==null?void 0:$.schedule)==null?void 0:x.feeding_times)!=null&&K.length?(i(),u("div",Ht,[e[22]||(e[22]=t("h5",{class:"font-semibold text-lg mb-3 text-green-600"},"Feeding Times",-1)),t("div",Vt,[(i(!0),u(W,null,E(((H=(X=_(s.id))==null?void 0:X.schedule)==null?void 0:H.feeding_times)||[],(N,P)=>{var $e,Se,Fe;return i(),u("div",{key:P,class:"bg-white p-4 rounded-lg border"},[t("div",Qt,[t("div",null,[t("p",Yt,a(ue(N)),1),t("p",Zt,"Feeding "+a(P+1),1)]),t("div",Jt,[t("p",Kt,a(R(((Fe=(Se=($e=_(s.id))==null?void 0:$e.schedule)==null?void 0:Se.feeding_amounts)==null?void 0:Fe[P])||0)),1)])])])}),128))]),t("p",Xt,[e[21]||(e[21]=k(" Frequency: ")),t("span",It,a(Ne(((j=(V=_(s.id))==null?void 0:V.schedule)==null?void 0:j.frequency)||"")),1)])])):D("",!0),t("div",null,[e[25]||(e[25]=t("h5",{class:"font-semibold text-lg mb-3 text-purple-600"},"Computed Feed Quantity Per Day",-1)),t("div",es,[t("div",ts,[t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm text-muted-foreground"},"Total Daily Amount",-1)),t("p",ss,a(R(((Q=(I=_(s.id))==null?void 0:I.schedule)==null?void 0:Q.total_daily_amount)||0)),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm text-muted-foreground"},"Per Fingerling",-1)),t("p",ls,a(We(s.id))+"g ",1)])])])]),(pe=(fe=_(s.id))==null?void 0:fe.schedule)!=null&&pe.notes?(i(),u("div",os,[e[26]||(e[26]=t("h5",{class:"font-semibold text-lg mb-3 text-orange-600"},"Auto-Generated Schedule Details",-1)),t("div",ns,[t("div",as,a((_e=(ge=_(s.id))==null?void 0:ge.schedule)==null?void 0:_e.notes),1),(ve=(he=_(s.id))==null?void 0:he.schedule)!=null&&ve.created_at?(i(),u("p",is," Created: "+a(new Date(((ye=(be=_(s.id))==null?void 0:be.schedule)==null?void 0:ye.created_at)||"").toLocaleString("en-US",{timeZone:"Asia/Manila"})),1)):D("",!0)])])):D("",!0),(ke=(xe=_(s.id))==null?void 0:xe.upcoming_feedings)!=null&&ke.length?(i(),u("div",ds,[e[27]||(e[27]=t("h5",{class:"font-semibold text-lg mb-3 text-indigo-600"},"Upcoming Feed Plan",-1)),t("div",rs,[(i(!0),u(W,null,E(((we=_(s.id))==null?void 0:we.upcoming_feedings)||[],(N,P)=>(i(),u("div",{key:P,class:ze(["p-4 border-b last:border-b-0",P===0?"bg-blue-50":""])},[t("div",us,[t("div",null,[t("p",cs,a(Pe(N.date))+" at "+a(N.formatted_time),1),t("p",ms,a(N.time),1)]),t("div",fs,[t("p",ps,a(R(N.amount)),1),P===0?(i(),u("p",gs,"Next Feeding")):D("",!0)])])],2))),128))])])):D("",!0)])):(i(),u("div",_s,[t("p",hs,a(((Ce=_(s.id))==null?void 0:Ce.message)||"No schedule details available"),1)]))],64))])]}),_:2},1024)])]),_:2},1032,["open","onUpdate:open"]))),128))])]),_:1})]),_:1})):D("",!0),v.value?(i(),S(l(ee),{key:2,class:"bg-green-50 border-green-200"},{default:n(()=>[d(l(te),null,{default:n(()=>[d(l(se),{class:"text-green-800"},{default:n(()=>e[28]||(e[28]=[k(" âœ… Auto-Generation Complete ")])),_:1})]),_:1}),d(l(le),null,{default:n(()=>[t("div",vs,[t("p",bs,a(v.value.message),1),v.value.errors.length>0?(i(),u("div",ys,[e[29]||(e[29]=t("h5",{class:"font-medium text-red-700 mb-1"},"Errors:",-1)),t("ul",xs,[(i(!0),u(W,null,E(v.value.errors,s=>(i(),u("li",{key:s},a(s),1))),128))])])):D("",!0)])]),_:1})]),_:1})):D("",!0)])]),_:1}))}});export{Ws as default};
