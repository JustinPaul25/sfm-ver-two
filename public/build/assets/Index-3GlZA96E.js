import{d as we,B as ke,c as J,r as x,o as he,a as v,b as i,e as l,u as Ce,m as Ue,w as s,f as a,g as ae,h as k,i as m,t as u,l as L,C as Ve,v as H,F as $,j as Q,A as h,k as le,p as V}from"./app-Py-KhCof.js";import{_ as Ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxOgdMMd.js";import{_ as b}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dn4fNI4e.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang--G0Q0eTO.js";import{_ as W,a as X,b as Y,c as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-xkXlj1WN.js";import{_ as ee}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CLfJ7BCe.js";import{_ as te}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zzOAfG-b.js";import{_ as S}from"./Card.vue_vue_type_script_setup_true_lang-GpF-q2cn.js";import{_ as D,a as A,b as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-BeBhnXgS.js";import{S as w}from"./sweetalert2.esm.all-odB5D8k1.js";import"./useForwardExpose-N3V696vC.js";import"./RovingFocusGroup-Cd9WNB1g.js";const $e={class:"flex flex-col gap-4 p-4"},Se={key:0,class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4"},De={class:"text-2xl font-bold"},Ae={class:"text-2xl font-bold text-green-600"},Fe={class:"text-2xl font-bold text-red-600"},Ie={class:"text-2xl font-bold text-green-600"},Ne={class:"text-2xl font-bold text-blue-600"},qe={class:"text-2xl font-bold text-red-600"},ze={class:"flex items-center justify-between gap-2 flex-wrap"},Be={class:"flex gap-2 items-center flex-wrap"},Me={class:"overflow-x-auto rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-white dark:bg-gray-900"},Pe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Re={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},je={key:0,class:"animate-pulse"},Te={key:1},Le={class:"px-6 py-4 whitespace-nowrap font-medium"},He={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"px-6 py-4 whitespace-nowrap"},Oe=["value","onChange"],Ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Je={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},We={class:"px-6 py-4 whitespace-nowrap text-right"},Xe={class:"flex gap-1 justify-end"},Ye={key:1,class:"flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700"},Ze={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},et={class:"flex items-center space-x-2"},tt={class:"flex items-center space-x-1"},at={class:"flex flex-col gap-1"},lt={key:0,class:"text-xs text-red-500 mt-1"},st={class:"flex flex-col gap-1"},rt={key:0,class:"text-xs text-red-500 mt-1"},ot={class:"flex flex-col gap-1"},nt=["disabled"],dt={key:0,class:"text-xs text-red-500 mt-1"},it={class:"flex flex-col gap-1"},ut={key:0,class:"text-xs text-red-500 mt-1"},pt={class:"flex flex-col gap-1"},mt={key:0,class:"text-xs text-red-500 mt-1"},vt={key:1,class:"text-xs text-muted-foreground mt-1"},ft={class:"flex flex-col gap-1"},ct={key:0,class:"text-xs text-red-500 mt-1"},xt={key:1,class:"text-xs text-muted-foreground mt-1"},gt={class:"flex flex-col gap-1"},bt=["disabled"],yt=["value"],_t={key:0,class:"text-xs text-red-500 mt-1"},wt={key:1,class:"text-xs text-muted-foreground mt-1"},kt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ht={class:"flex flex-col gap-1"},Ct={class:"flex flex-col gap-1"},Mt=we({__name:"Index",setup(Ut){const se=ke(),re=J(()=>{var r,e;return((e=(r=se.props.auth)==null?void 0:r.user)==null?void 0:e.role)||"farmer"});J(()=>re.value==="admin");const oe=[{title:"Dashboard",href:"/dashboard"},{title:"User Management",href:"/users"}],y=x({data:[],current_page:1,last_page:1,per_page:10,total:0,from:null,to:null}),C=x(null),K=x(!1),f=x(!1),B=x(""),M=x(""),P=x(""),I=x(!1),N=x(!1),q=x(!1),R=x(null),_=x(null),o=x({name:"",email:"",password:"",password_confirmation:"",role:"farmer",address:"",phone:"",investor_id:null}),d=x({}),O=x([]),g=J(()=>y.value?{current_page:y.value.current_page,last_page:y.value.last_page,per_page:y.value.per_page,total:y.value.total,from:y.value.from,to:y.value.to}:null),ne=r=>{switch(r){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"investor":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"farmer":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},de=r=>r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";async function U(){K.value=!0;try{const r=new URLSearchParams;B.value&&r.append("search",B.value),M.value&&r.append("role",M.value),P.value&&r.append("status",P.value),r.append("page",y.value.current_page.toString());const e=await V.get(`/users/list?${r.toString()}`);y.value=e.data.users}catch(r){console.error("Error fetching users:",r),w.fire({icon:"error",title:"Error",text:"Failed to load users."})}finally{K.value=!1}}async function z(){try{const r=await V.get("/users/statistics");C.value=r.data.statistics}catch(r){console.error("Error fetching statistics:",r)}}async function ie(){try{const r=await V.get("/investors/select");O.value=r.data}catch(r){console.error("Error fetching investors:",r)}}function j(){y.value.current_page=1,U()}function G(r){y.value.current_page=r,U()}function ue(){if(!g.value)return[];const r=g.value.current_page,e=g.value.last_page,t=[];t.push(1);for(let n=Math.max(2,r-1);n<=Math.min(e-1,r+1);n++)n>1&&n<e&&t.push(n);return e>1&&t.push(e),[...new Set(t)].sort((n,c)=>n-c)}function pe(){o.value={name:"",email:"",role:"farmer",address:"",phone:"",investor_id:null},d.value={},I.value=!0,console.log("Create dialog opened. Available investors:",O.value)}function me(){d.value={},o.value.role==="farmer"?o.value.address="":o.value.role==="investor"?o.value.investor_id=null:o.value.role==="admin"&&(o.value.address="",o.value.phone="",o.value.investor_id=null)}async function ve(){var r,e,t,n,c,T;f.value=!0,d.value={};try{const p={name:o.value.name,email:o.value.email,role:o.value.role};o.value.role==="farmer"?(p.phone=o.value.phone,p.investor_id=o.value.investor_id):o.value.role==="investor"&&(p.phone=o.value.phone,p.address=o.value.address),console.log("Submitting user data:",p),await V.post("/users",p),await U(),await z(),I.value=!1,w.fire({icon:"success",title:"User created successfully!"})}catch(p){if(console.error("Error creating user:",p),console.error("Error response:",p==null?void 0:p.response),console.error("Error data:",(r=p==null?void 0:p.response)==null?void 0:r.data),((e=p==null?void 0:p.response)==null?void 0:e.status)===422&&((n=(t=p==null?void 0:p.response)==null?void 0:t.data)!=null&&n.errors))d.value=p.response.data.errors,console.error("Validation errors:",d.value);else{const _e=((T=(c=p==null?void 0:p.response)==null?void 0:c.data)==null?void 0:T.message)||"Failed to create user.";w.fire({icon:"error",title:"Error",text:_e})}}finally{f.value=!1}}function fe(r){_.value={...r},N.value=!0}async function ce(){var r,e;if(_.value)try{await V.put(`/users/${_.value.id}`,{name:_.value.name,email:_.value.email}),await U(),N.value=!1,_.value=null,w.fire({icon:"success",title:"User updated successfully!"})}catch(t){const n=((e=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to update user.";w.fire({icon:"error",title:"Error",text:n})}}async function xe(r,e){var t,n;try{await V.put(`/users/${r.id}/role`,{role:e}),await U(),await z(),w.fire({icon:"success",title:"User role updated successfully!"})}catch(c){const T=((n=(t=c==null?void 0:c.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to update user role.";w.fire({icon:"error",title:"Error",text:T})}}async function ge(r){var e,t;try{await V.post(`/users/${r.id}/toggle-status`),await U(),await z();const n=r.is_active?"deactivated":"activated";w.fire({icon:"success",title:`User ${n} successfully!`})}catch(n){const c=((t=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to toggle user status.";w.fire({icon:"error",title:"Error",text:c})}}function be(r){R.value=r,q.value=!0}async function ye(){var r,e;if(R.value!==null)try{await V.delete(`/users/${R.value}`),await U(),await z(),q.value=!1,R.value=null,w.fire({icon:"success",title:"User deleted successfully!"})}catch(t){const n=((e=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to delete user.";w.fire({icon:"error",title:"Error",text:n})}}return he(()=>{U(),z(),ie()}),(r,e)=>(i(),v($,null,[l(Ce(Ue),{title:"User Management"}),l(Ee,{breadcrumbs:oe},{default:s(()=>[a("div",$e,[C.value?(i(),v("div",Se,[l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[22]||(e[22]=[m("Total Users")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",De,u(C.value.total_users),1)]),_:1})]),_:1}),l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[23]||(e[23]=[m("Active")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",Ae,u(C.value.active_users),1)]),_:1})]),_:1}),l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[24]||(e[24]=[m("Inactive")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",Fe,u(C.value.inactive_users),1)]),_:1})]),_:1}),l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[25]||(e[25]=[m("Farmers")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",Ie,u(C.value.farmers),1)]),_:1})]),_:1}),l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[26]||(e[26]=[m("Investors")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",Ne,u(C.value.investors),1)]),_:1})]),_:1}),l(S,null,{default:s(()=>[l(D,{class:"pb-2"},{default:s(()=>[l(A,{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>e[27]||(e[27]=[m("Admins")])),_:1})]),_:1}),l(F,null,{default:s(()=>[a("div",qe,u(C.value.admins),1)]),_:1})]),_:1})])):k("",!0),a("div",ze,[a("div",Be,[l(E,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=t=>B.value=t),placeholder:"Search users...",onKeyup:Ve(j,["enter"]),class:"w-64"},null,8,["modelValue"]),L(a("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>M.value=t),onChange:j,class:"flex h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm"},e[28]||(e[28]=[a("option",{value:""},"All Roles",-1),a("option",{value:"farmer"},"Farmer",-1),a("option",{value:"investor"},"Investor",-1),a("option",{value:"admin"},"Admin",-1)]),544),[[H,M.value]]),L(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>P.value=t),onChange:j,class:"flex h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm"},e[29]||(e[29]=[a("option",{value:""},"All Status",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"inactive"},"Inactive",-1)]),544),[[H,P.value]]),l(b,{onClick:j,variant:"default"},{default:s(()=>e[30]||(e[30]=[m("Search")])),_:1})]),l(b,{onClick:pe,variant:"secondary"},{default:s(()=>e[31]||(e[31]=[m("Create User")])),_:1})]),a("div",Me,[a("table",Pe,[e[37]||(e[37]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Investor"),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created"),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),a("tbody",Re,[K.value?(i(),v("tr",je,e[32]||(e[32]=[a("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"Loading...",-1)]))):y.value.data.length===0?(i(),v("tr",Te,e[33]||(e[33]=[a("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"No users found.",-1)]))):(i(!0),v($,{key:2},Q(y.value.data,t=>{var n;return i(),v("tr",{key:t.id},[a("td",Le,u(t.name),1),a("td",He,u(t.email),1),a("td",Ke,[a("select",{value:t.role,onChange:c=>xe(t,c.target.value),class:h(["px-2 py-1 text-xs rounded-full font-semibold",ne(t.role)])},e[34]||(e[34]=[a("option",{value:"farmer"},"Farmer",-1),a("option",{value:"investor"},"Investor",-1),a("option",{value:"admin"},"Admin",-1)]),42,Oe)]),a("td",Ge,u(((n=t.investor)==null?void 0:n.name)||"-"),1),a("td",Je,[a("span",{class:h(["px-2 py-1 text-xs rounded-full font-semibold",de(t.is_active)])},u(t.is_active?"Active":"Inactive"),3)]),a("td",Qe,u(new Date(t.created_at).toLocaleDateString()),1),a("td",We,[a("div",Xe,[l(b,{variant:"outline",size:"sm",onClick:c=>fe(t),title:"Edit",class:"w-8 h-8 p-0"},{default:s(()=>e[35]||(e[35]=[m(" âœï¸ ")])),_:2},1032,["onClick"]),l(b,{variant:t.is_active?"secondary":"default",size:"sm",onClick:c=>ge(t),title:t.is_active?"Deactivate":"Activate",class:"w-8 h-8 p-0"},{default:s(()=>[m(u(t.is_active?"ðŸ”’":"ðŸ”“"),1)]),_:2},1032,["variant","onClick","title"]),l(b,{variant:"destructive",size:"sm",onClick:c=>be(t.id),title:"Delete",class:"w-8 h-8 p-0"},{default:s(()=>e[36]||(e[36]=[m(" ðŸ—‘ï¸ ")])),_:2},1032,["onClick"])])])])}),128))])])]),g.value&&g.value.total>0?(i(),v("div",Ye,[a("div",Ze,[a("span",null,"Showing "+u(g.value.from)+" to "+u(g.value.to)+" of "+u(g.value.total)+" results",1)]),a("div",et,[l(b,{variant:"outline",size:"sm",disabled:g.value.current_page===1,onClick:e[3]||(e[3]=t=>G(g.value.current_page-1))},{default:s(()=>e[38]||(e[38]=[m(" Previous ")])),_:1},8,["disabled"]),a("div",tt,[(i(!0),v($,null,Q(ue(),t=>(i(),ae(b,{key:t,variant:"outline",size:"sm",class:h(t===g.value.current_page?"bg-primary text-primary-foreground":""),onClick:n=>G(t)},{default:s(()=>[m(u(t),1)]),_:2},1032,["class","onClick"]))),128))]),l(b,{variant:"outline",size:"sm",disabled:g.value.current_page===g.value.last_page,onClick:e[4]||(e[4]=t=>G(g.value.current_page+1))},{default:s(()=>e[39]||(e[39]=[m(" Next ")])),_:1},8,["disabled"])])])):k("",!0)]),l(W,{open:I.value,"onUpdate:open":e[15]||(e[15]=t=>I.value=t)},{default:s(()=>[l(ee,{"as-child":""}),l(X,{"hide-close":f.value,onInteractOutside:e[13]||(e[13]=t=>{const n=t.target;n!=null&&n.closest(".swal2-container")||f.value&&t.preventDefault()}),onEscapeKeyDown:e[14]||(e[14]=t=>{f.value&&t.preventDefault()})},{default:s(()=>[l(Y,null,{default:s(()=>[l(Z,null,{default:s(()=>e[40]||(e[40]=[m("Create User")])),_:1})]),_:1}),a("form",{onSubmit:le(ve,["prevent"]),class:"flex flex-col gap-4 mt-2"},[a("div",at,[e[41]||(e[41]=a("label",{for:"name",class:"text-sm font-medium"},"Name",-1)),l(E,{id:"name",modelValue:o.value.name,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.name=t),type:"text",placeholder:"Enter name",required:"",disabled:f.value,class:h({"border-red-500":d.value.name})},null,8,["modelValue","disabled","class"]),d.value.name?(i(),v("p",lt,u(d.value.name[0]),1)):k("",!0)]),a("div",st,[e[42]||(e[42]=a("label",{for:"email",class:"text-sm font-medium"},"Email",-1)),l(E,{id:"email",modelValue:o.value.email,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.email=t),type:"email",placeholder:"Enter email",required:"",disabled:f.value,class:h({"border-red-500":d.value.email})},null,8,["modelValue","disabled","class"]),d.value.email?(i(),v("p",rt,u(d.value.email[0]),1)):k("",!0)]),a("div",ot,[e[44]||(e[44]=a("label",{for:"role",class:"text-sm font-medium"},"Role",-1)),L(a("select",{id:"role","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.role=t),onChange:me,class:h(["input w-full rounded border p-2",{"border-red-500":d.value.role}]),required:"",disabled:f.value},e[43]||(e[43]=[a("option",{value:"farmer"},"Farmer",-1),a("option",{value:"investor"},"Investor",-1),a("option",{value:"admin"},"Admin",-1)]),42,nt),[[H,o.value.role]]),d.value.role?(i(),v("p",dt,u(d.value.role[0]),1)):k("",!0)]),o.value.role==="investor"?(i(),v($,{key:0},[a("div",it,[e[45]||(e[45]=a("label",{for:"address",class:"text-sm font-medium"},"Address",-1)),l(E,{id:"address",modelValue:o.value.address,"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.address=t),type:"text",placeholder:"Enter address",required:"",disabled:f.value,class:h({"border-red-500":d.value.address})},null,8,["modelValue","disabled","class"]),d.value.address?(i(),v("p",ut,u(d.value.address[0]),1)):k("",!0)]),a("div",pt,[e[46]||(e[46]=a("label",{for:"phone",class:"text-sm font-medium"},"Phone Number",-1)),l(E,{id:"phone",modelValue:o.value.phone,"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.phone=t),type:"text",placeholder:"e.g., +639123456789 or 09123456789",required:"",disabled:f.value,class:h({"border-red-500":d.value.phone})},null,8,["modelValue","disabled","class"]),d.value.phone?(i(),v("p",mt,u(d.value.phone[0]),1)):(i(),v("p",vt," Enter a valid PH mobile number (e.g., +639123456789, 09123456789, or 9123456789) "))])],64)):k("",!0),o.value.role==="farmer"?(i(),v($,{key:1},[a("div",ft,[e[47]||(e[47]=a("label",{for:"phone_farmer",class:"text-sm font-medium"},"Phone Number",-1)),l(E,{id:"phone_farmer",modelValue:o.value.phone,"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.phone=t),type:"text",placeholder:"e.g., +639123456789 or 09123456789",required:"",disabled:f.value,class:h({"border-red-500":d.value.phone})},null,8,["modelValue","disabled","class"]),d.value.phone?(i(),v("p",ct,u(d.value.phone[0]),1)):(i(),v("p",xt," Enter a valid PH mobile number (e.g., +639123456789, 09123456789, or 9123456789) "))]),a("div",gt,[e[49]||(e[49]=a("label",{for:"investor_id",class:"text-sm font-medium"},"Investor",-1)),L(a("select",{id:"investor_id","onUpdate:modelValue":e[11]||(e[11]=t=>o.value.investor_id=t),class:h(["input w-full rounded border p-2",{"border-red-500":d.value.investor_id}]),required:"",disabled:f.value},[e[48]||(e[48]=a("option",{value:null,disabled:"",selected:""},"Select an investor",-1)),(i(!0),v($,null,Q(O.value,t=>(i(),v("option",{key:t.id,value:t.id},u(t.name),9,yt))),128))],10,bt),[[H,o.value.investor_id]]),d.value.investor_id?(i(),v("p",_t,u(d.value.investor_id[0]),1)):(i(),v("p",wt," Select the investor this farmer will be associated with "))])],64)):k("",!0),e[52]||(e[52]=a("div",{class:"bg-blue-50 dark:bg-blue-950 p-3 rounded-md border border-blue-200 dark:border-blue-800"},[a("p",{class:"text-sm text-blue-800 dark:text-blue-200"},[a("strong",null,"Note:"),m(" A secure password will be automatically generated and sent to the user's email address. ")])],-1)),l(te,{class:"flex justify-end gap-2 mt-4"},{default:s(()=>[l(b,{type:"button",variant:"secondary",onClick:e[12]||(e[12]=t=>I.value=!1),disabled:f.value},{default:s(()=>e[50]||(e[50]=[m("Cancel")])),_:1},8,["disabled"]),l(b,{type:"submit",variant:"default",disabled:f.value},{default:s(()=>[f.value?(i(),v("svg",kt,e[51]||(e[51]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):k("",!0),m(" "+u(f.value?"Creating...":"Create"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1},8,["hide-close"])]),_:1},8,["open"]),_.value?(i(),ae(W,{key:0,open:N.value,"onUpdate:open":e[19]||(e[19]=t=>N.value=t)},{default:s(()=>[l(ee,{"as-child":""}),l(X,null,{default:s(()=>[l(Y,null,{default:s(()=>[l(Z,null,{default:s(()=>e[53]||(e[53]=[m("Edit User")])),_:1})]),_:1}),a("form",{onSubmit:le(ce,["prevent"]),class:"flex flex-col gap-4 mt-2"},[a("div",ht,[e[54]||(e[54]=a("label",{for:"edit_name",class:"text-sm font-medium"},"Name",-1)),l(E,{id:"edit_name",modelValue:_.value.name,"onUpdate:modelValue":e[16]||(e[16]=t=>_.value.name=t),type:"text",placeholder:"Enter name",required:""},null,8,["modelValue"])]),a("div",Ct,[e[55]||(e[55]=a("label",{for:"edit_email",class:"text-sm font-medium"},"Email",-1)),l(E,{id:"edit_email",modelValue:_.value.email,"onUpdate:modelValue":e[17]||(e[17]=t=>_.value.email=t),type:"email",placeholder:"Enter email",required:""},null,8,["modelValue"])]),l(te,{class:"flex justify-end gap-2 mt-4"},{default:s(()=>[l(b,{type:"button",variant:"secondary",onClick:e[18]||(e[18]=t=>N.value=!1)},{default:s(()=>e[56]||(e[56]=[m("Cancel")])),_:1}),l(b,{type:"submit",variant:"default"},{default:s(()=>e[57]||(e[57]=[m("Update")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"])):k("",!0),l(W,{open:q.value,"onUpdate:open":e[21]||(e[21]=t=>q.value=t)},{default:s(()=>[l(ee,{"as-child":""}),l(X,null,{default:s(()=>[l(Y,null,{default:s(()=>[l(Z,null,{default:s(()=>e[58]||(e[58]=[m("Delete User")])),_:1})]),_:1}),e[61]||(e[61]=a("div",{class:"mt-2"},"Are you sure you want to delete this user? This action cannot be undone.",-1)),l(te,{class:"flex justify-end gap-2 mt-4"},{default:s(()=>[l(b,{type:"button",variant:"secondary",onClick:e[20]||(e[20]=t=>q.value=!1)},{default:s(()=>e[59]||(e[59]=[m("Cancel")])),_:1}),l(b,{type:"button",variant:"destructive",onClick:ye},{default:s(()=>e[60]||(e[60]=[m("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Mt as default};
