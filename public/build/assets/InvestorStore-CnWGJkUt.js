import{G as d,r as o,p as u}from"./app-CzhniAMT.js";const w=d("investor",()=>{const l=o([]),i=o([]),t=o(!1),s=o(null),v=o({search:"",page:1});return{investors:l,investorsSelect:i,loading:t,error:s,filters:v,fetchInvestors:async()=>{t.value=!0,s.value=null;try{const e=await u.get(route("investors.list"),{params:v.value});l.value=e.data.investors}catch(e){s.value=e.message}finally{t.value=!1}},createInvestor:async e=>{t.value=!0,s.value=null;try{return(await u.post(route("investors.store"),e)).data}catch(a){throw s.value=a.message,a}finally{t.value=!1}},updateInvestor:async(e,a)=>{t.value=!0,s.value=null;try{const r=await u.put(route("investors.update",e),a);if(l.value&&l.value.data&&Array.isArray(l.value.data)){const n=l.value.data.findIndex(c=>c.id===e);n!==-1&&(l.value.data[n]=r.data)}return r.data}catch(r){throw s.value=r.message,r}finally{t.value=!1}},deleteInvestor:async e=>{var a,r;t.value=!0,s.value=null;try{return(await u.delete(route("investors.destroy",e))).data}catch(n){const c=((r=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:r.message)||n.message;throw s.value=c,new Error(c)}finally{t.value=!1}},setFilters:e=>{v.value={...v.value,...e}},fetchInvestorsSelect:async()=>{t.value=!0,s.value=null;try{const e=await u.get(route("investors.select"));i.value=e.data}catch(e){s.value=e.message}finally{t.value=!1}}}});export{w as u};
